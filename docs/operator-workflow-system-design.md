# 数据资源管理平台系统设计方案

## 系统概述

本系统包含两个核心模块：

### 1. 计算管理模块
基于算子的可视化工作流编排平台，支持算子管理、工作流设计、任务执行和实例监控。所有功能页面都在计算管理模块下，通过统一的路由前缀 `/computer` 进行访问。

### 2. 数据管理模块
统一的数据资源管理平台，支持数据源管理、数据集管理和文件管理。所有功能页面都在数据管理模块下，通过统一的路由前缀 `/data` 进行访问。

## 核心概念

### 1. 算子 (Operator)
算子是系统的基本执行单元，分为四种类型：

- **基础算子 (Basic Operator)**: 系统内置的数据处理算法
- **脚本算子 (Script Operator)**: 基于脚本语言的自定义逻辑
- **外部算子 (External Operator)**: 集成外部系统和API服务
- **工作流算子 (Workflow Operator)**: 由工作流发布而成的算子

### 2. 工作流 (Workflow)
工作流是算子的可视化编排，通过拖拽方式连接算子节点，形成数据处理流程。工作流可以发布为工作流算子。

### 3. 任务 (Task)
任务是将多个算子组合在一起的执行单元，支持单次执行和周期执行。

### 4. 执行组 (Execution Group)
任务内的执行单元，一个执行组内的算子并行执行，执行组之间按顺序执行。

### 5. 任务实例 (Task Instance)
任务的具体执行记录，包含执行状态、日志等信息。

## 系统架构

### 菜单结构
```
数据管理
├── 数据源管理
│   ├── 数据源列表
│   ├── 数据源详情
│   ├── 连接测试
│   └── 数据源配置
├── 数据集管理
│   ├── 数据集列表
│   ├── 数据集详情
│   ├── 数据预览
│   └── 数据血缘
└── 文件管理
    ├── 文件列表
    ├── 文件详情
    ├── 文件上传
    └── 文件分类

计算管理
├── 算子管理
│   ├── 算子列表
│   ├── 算子详情
│   └── 工作流设计器
├── 任务管理
│   ├── 任务列表
│   ├── 任务详情
│   └── 任务执行
├── 任务实例
│   ├── 实例列表
│   └── 执行日志
└── 系统配置
    ├── 数据类型
    ├── 组件注册
    └── 权限管理

```

## 数据管理模块设计

### 1. 数据源管理模块

#### 1.1 数据源列表

- 统一管理所有数据源
- 支持按类型、状态、关键词筛选
- 数据源搜索和排序
- 批量操作（启用/禁用、删除等）

#### 1.2 数据源详情

- 查看数据源详细信息
- 编辑数据源配置
- 查看连接状态和使用统计
- 数据源权限管理

#### 1.3 连接测试

- 实时测试数据源连接
- 连接参数验证
- 连接性能测试
- 连接日志查看

#### 1.4 数据源配置

- 支持多种数据源类型（MySQL、PostgreSQL、MongoDB、Redis、API等）
- 连接参数配置
- 安全认证配置
- 连接池配置

### 2. 数据集管理模块

#### 2.1 数据集列表

- 统一管理所有数据集
- 支持按数据源、类型、创建时间等筛选
- 数据集搜索和排序
- 数据集状态管理

#### 2.2 数据集详情

- 查看数据集详细信息
- 数据集结构查看
- 数据集统计信息
- 数据集权限管理

#### 2.3 数据预览

- 数据内容预览
- 数据质量检查
- 数据统计信息
- 数据导出功能

#### 2.4 数据血缘

- 数据集血缘关系图
- 数据流向追踪
- 影响分析
- 血缘关系管理

### 3. 文件管理模块

#### 3.1 文件列表

- 统一管理所有文件
- 支持按类型、大小、上传时间等筛选
- 文件搜索和排序
- 文件状态管理

#### 3.2 文件详情

- 查看文件详细信息
- 文件元数据管理
- 文件版本管理
- 文件权限管理

#### 3.3 文件上传

- 支持多种文件格式
- 批量文件上传
- 文件上传进度显示
- 文件上传验证

#### 3.4 文件分类

- 文件分类管理
- 标签管理
- 文件组织
- 分类统计

## 计算管理模块设计

### 1. 算子管理

#### 1.1 算子列表
- 统一管理所有类型的算子
- 支持按类型、分类、关键词筛选
- 算子搜索和排序
- 批量操作（删除、导出等）

#### 1.2 算子详情
- 查看算子详细信息
- 编辑算子配置
- 查看使用统计
- 对于工作流算子，可以跳转到工作流设计器

#### 1.3 工作流设计器
- 拖拽式工作流设计
- 节点和连接配置
- 变量定义和管理
- 将工作流保存为工作流算子

### 2. 任务管理

#### 2.1 任务列表
- 统一的任务列表
- 支持按状态、名称、创建时间等筛选
- 显示任务基本信息（名称、状态、最后执行时间等）
- 支持批量启动、停止、删除操作

#### 2.2 任务详情
- 查看任务详细信息
- 配置执行组和算子
- 设置执行方式（单次/周期）
- 查看当前执行状态
- 启动、停止、编辑、删除任务

#### 2.3 任务执行
- 创建和管理执行组
- 向执行组添加算子
- 设置执行组顺序
- 实时显示执行状态

### 3. 任务实例

#### 3.1 实例列表
- 查看所有任务的历史执行实例
- 按任务、状态、时间范围筛选
- 显示实例基本信息（任务名称、状态、开始时间、结束时间等）
- 支持重跑操作

#### 3.2 执行日志
- 查看任务执行的详细日志
- 支持日志搜索和筛选
- 按日志级别（INFO、WARN、ERROR）筛选
- 导出日志文件

### 4. 系统配置模块

#### 4.1 数据类型
- 定义标准数据类型
- 创建自定义类型
- 类型验证规则

#### 4.2 组件注册
- 注册自定义前端组件
- 组件功能验证
- 组件库管理

